# Вопросы и ответы
### > Я не могу получать SMS

Эта проблема обычно возникает на сильно кастомизированных системах телефонов, где по соображениям безопасности блокируются все SMS-трансляции. Текущее решение этой проблемы - настроить Telegram SMS как приложение по умолчанию для SMS или использовать метод прослушивания push-уведомлений для получения содержимого SMS.

### > Я могу получать обычные SMS, но не могу получать SMS с кодами подтверждения

**Предупреждение о риске! Пересылка кодов подтверждения может привести к компрометации вашей личной конфиденциальности и безопасности аккаунта. Если вы понимаете этот риск, продолжайте следующие действия.**

Недавно некоторые пользователи сообщили, что Telegram SMS не может правильно пересылать уведомления типа SMS. Затронутые ROM включают Huawei EMUI и Xiaomi MIUI. Эти системы предоставляют функции защиты безопасности для SMS с кодами подтверждения, что препятствует правильному получению кодов подтверждения через трансляцию. Вот решения:

Huawei EMUI：
```
Сообщения > Еще > Настройки > Дополнительно > Отключить защиту безопасности кода подтверждения.

via:https://club.huawei.com/thread-17770781-1-1.html
```

Xiaomi MIUI：
```
Центр безопасности > Управление разрешениями > Telegram SMS > Разрешения > Выбрать уведомления типа SMS
```

### > Почему служба в фоновом режиме на моем телефоне Huawei не может продолжать работать?

В системе Huawei EMUI9 встроен новый инструмент управления энергопотреблением под названием `Power Genius`. Этот инструмент автоматически проверяет программы, работающие в фоновом режиме, и, если они не находятся в белом списке Huawei (например, WeChat, QQ), принудительно останавливает их. Вам нужно полностью отключить выполнение этой программы через ADB, что обеспечит правильную работу Telegram SMS на вашем телефоне, но может вызвать проблемы с расходом батареи и перегревом.

В других версиях системы EMUI вы можете контролировать и гарантировать нормальную работу программы, настроив информацию об оптимизации батареи. Подробности смотрите по следующей ссылке:

Шаги и связанная информация: https://dontkillmyapp.com/huawei

### > Я хочу отключить уведомления в строке уведомлений

Из-за [изменений в поведении](https://developer.android.com/about/versions/oreo/android-8.0-changes?hl=ru) в Android O мы не можем тихо выполнять службу Telegram SMS в фоновом режиме.

Вы можете ознакомиться с документом, предоставленным Google, "Управление уведомлениями, отображаемыми на вашем устройстве Android" в разделе `Выбор способа получения уведомлений > Включение или отключение уведомлений для определенных приложений`, чтобы отключить все уведомления Telegram SMS в строке уведомлений.

Связанная информация: https://support.google.com/android/answer/9079661?hl=ru

### > Я хочу изменить адрес сервера API

Мы не предоставляем никаких функций настройки для изменения адреса сервера API в программе.

**Это связано с соображениями конфиденциальности и безопасности связи. Изменение адреса API аналогично перехвату GSM + sniffing SMS, что может привести к финансовым потерям.**

Вы можете использовать метод прокси SNI для безопасного проксирования `api.telegram.org`, что предотвратит распаковку пакетов данных во время передачи и защитит пакеты данных от получения третьими сторонами. Вы можете использовать модуль Stream Nginx для реализации этой функции. Этот модуль работает на уровне 4 модели OSI и может работать одновременно с сервисами, работающими на уровне 7. Это обеспечит возможность размещения веб-сайта при использовании прокси SNI. Вы также можете использовать Sniproxy для достижения той же функции.

Если вы понимаете риски изменения адреса API, но все же хотите выполнить эту операцию, мы предоставим вам скрипт компиляции на основе GitHub Action. Вы можете сделать форк этого репозитория и внести изменения. GitHub Action автоматически скомпилирует при коммите и выпустит версию с использованием встроенной тестовой подписи. Обратите внимание, что эта подпись отличается от используемой в оригинальной версии, поэтому вам нужно будет удалить оригинальное приложение и установить новую версию.